{% extends "base.html" %}
{% block mainbox %}
<script>
    // MultiFileds JS

var room = 1;
function education_fields() {

    room++;
    var objTo = document.getElementById('education_fields')
    var divtest = document.createElement("div");
	divtest.setAttribute("class", "form-group removeclass"+room);
	var rdiv = 'removeclass'+room;
    divtest.innerHTML = '<div class="form-group has-success col-lg-4"><div class="form-group"><label class="control-label" for="linksname">File Link</label><div class="input-group"> <input type="text" class="form-control" id="linksname" name="links" value="" placeholder="Please Put link of File ...."><div class="input-group-btn"> <button class="btn btn-danger" type="button" onclick="remove_education_fields('+ room +');"> <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> </button></div></div></div></div>';

    objTo.appendChild(divtest)
}
   function remove_education_fields(rid) {
	   $('.removeclass'+rid).remove();
   }
</script>
<div id="page-wrapper">

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Task</h1>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>
                <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Task Form
                                </div>
                                <div class="panel-body">
                                     {% if tasktoentity_edit1 %}


                                    <form role="form"  method="post" action="{% url 'tasktoentityedit1'  %}" >
                                        {% csrf_token %}
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess1">Intent Id</label>
                                            <input type="text" class="form-control" name="Taskid" value="{{ tasktoentity_edit1.Task_Id }}"  id="inputSuccess1">
                                            <input type="hidden" class="form-control" name="Iid" value="{{ tasktoentity_edit1.id }}" >
                                        </div>

                                        <div class="form-group has-success col-lg-4">

                                            <label class="control-label" for="inputSuccess8">Entity Id</label>
                                            <select class="form-control" name="EntityId"  id="inputSuccess8">
                                                <option value="{{ tasktoentity_edit1.Entity_Id }}">{{ tasktoentity_edit1.Entity_Id }}</option>
                                                {% for t in entity_detail %}
                                                    <option value="{{ t.id }}">{{ t.id }}-->{{t.Entity_Name}}</option>
                                                    {% endfor %}
                                                  </select>
                                            <!--<input type="text" class="form-control" name="EntityId" value="{{ tasktoentity_edit1.Entity_Id }}" id="inputSuccess8">-->
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess28">Entity Name</label>
                                            <input type="text" class="form-control" name="IName" value="{{ tasktoentity_edit1.Entity_Name }}" id="inputSuccess28">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess18">Entity Question</label>
                                            <input type="text" class="form-control" name="Entityquestion" value="{{ tasktoentity_edit1.Entity_Question }}"  id="inputSuccess18">

                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess29">Entity Squence</label>
                                            <input type="text" class="form-control" name="Entitysequence" value="{{ tasktoentity_edit1.Entity_Sequence }}" id="inputSuccess29">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess">Redirect Task</label>
                                            <input type="text" class="form-control" name="taskredirect" value="{{ tasktoentity_edit1.task_redirect }}" id="inputSuccess">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess">Link</label>
                                            <input type="text" class="form-control" name="link" value="{{ tasktoentity_edit1.task_redirect }}" id="inputSuccess">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess611">Pre Text</label>
                                            <input type="text" class="form-control" name="pre_text" value="{{ tasktoentity_edit1.pre_text }}"  id="inputSuccess611">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess6121">Pre Action</label>
                                            <input type="text" class="form-control" name="pre_action_url" value="{{ tasktoentity_edit1.pre_action_url }}"  id="inputSuccess6121">
                                        </div>
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                             <label class="control-label" for="inputSuccess6111">Interview Url</label>-->
<!--                                            <input type="text" class="form-control" name="interview_url" value="{{ tasktoentity_edit1.interview_url }}"  id="inputSuccess6111">-->
<!--                                        </div>-->

<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                             <label class="control-label" for="inputSuccess6112">Value Collection Name</label>-->
<!--                                            <input type="text" class="form-control" name="value_collection_name" value="{{ tasktoentity_edit1.value_collection_name }}"  id="inputSuccess6112">-->
<!--                                        </div>-->
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                             <label class="control-label" for="inputSuccess6113">Collection Url</label>-->
<!--                                            <input type="text" class="form-control" name="collection_url" value="{{ tasktoentity_edit1.collection_url }}"  id="inputSuccess6113">-->
<!--                                        </div>-->
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                             <label class="control-label" for="inputSuccess6119">Validation Url</label>-->
<!--                                            <input type="text" class="form-control" name="validation_url" value="{{ tasktoentity_edit1.validation_url }}"  id="inputSuccess6119">-->
<!--                                        </div>-->
                                        <div class="form-group has-success col-lg-4">

                                            <label class="control-label" for="inputSuccess6131">Alternative Question</label>
                                            <input type="text" class="form-control" name="AlternetQuestion" value="{% for i in tasktoentity_edit1.Entity_alternet_qustion %}{{i}},{% endfor %}"  id="inputSuccess6131">

                                           </div>
                                        <div class="form-group has-success col-lg-4">

                                            <button class="btn btn-lg btn-success btn-block" type="submit">Submit</button>

                                        </div>


                                    </form>
                                    {% else %}
                                    <form role="form"  method="post" action="{% url 'tasktoentityCreate' %}" >
                                        {% csrf_token %}
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess3">Intent Id</label>
                                             <select class="form-control data-visible-options" name="Taskid"  id="inputSuccess3">
                                                <option value="------">----------</option>
                                                {% for t in intenttotask_detail %}
                                                    <option value="{{ t.id }}">{{ t.id }}-->{{t.Intent_Name}}</option>
                                                    {% endfor %}
                                                  </select>

                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess17">Entity Id</label>
                                            <select class="form-control" name="EntityId"  id="inputSuccess17">
                                                <option value="------">----------</option>
                                                {% for t in entity_detail %}
                                                    <option value="{{ t.id }}">{{ t.id }}-->{{t.Entity_Name}}</option>
                                                    {% endfor %}
                                                  </select>

                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess27">Entity Name</label>
                                            <input type="text" class="form-control" name="IName"  id="inputSuccess27">


                                        </div>

                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess13">Entity Question</label>
                                            <input type="text" class="form-control" name="Entityquestion"  id="inputSuccess13">
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess23">Entity Sequence</label>
                                            <input type="text" class="form-control" name="Entitysequence"  id="inputSuccess23" required>
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess6">Redirect Task</label>
                                            <input type="text" class="form-control" name="taskredirect"  id="inputSuccess6">
                                        </div>

                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess61">Pre Text</label>
                                            <input type="text" class="form-control" name="pre_text"  id="inputSuccess61" >
                                        </div>
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess62">Pre Action</label>
                                            <input type="text" class="form-control" name="pre_action_url"  id="inputSuccess62">
                                        </div>
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                            <label class="control-label" for="inputSuccess620">Interview Url</label>-->
<!--                                            <input type="text" class="form-control" name="interview_url"  id="inputSuccess620">-->
<!--                                        </div>-->
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                            <label class="control-label" for="inputSuccess6203">Value Collection Name</label>-->
<!--                                            <input type="text" class="form-control" name="value_collection_name"  id="inputSuccess6203">-->
<!--                                        </div>-->
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                            <label class="control-label" for="inputSuccess6202">Collection Url</label>-->
<!--                                            <input type="text" class="form-control" name="collection_url"  id="inputSuccess6202">-->
<!--                                        </div>-->
<!--                                        <div class="form-group has-success col-lg-4">-->
<!--                                            <label class="control-label" for="inputSuccess6201">Validation Url</label>-->
<!--                                            <input type="text" class="form-control" name="validation_url"  id="inputSuccess6201">-->
<!--                                        </div>-->
                                        <div class="form-group has-success col-lg-4">
                                            <label class="control-label" for="inputSuccess612">Alternative Question</label>
                                            <input type="text" class="form-control" name="AlternetQuestion"  id="inputSuccess612" placeholder="text,text,text">
                                        </div>
                                       <div id="education_fields" >
                                          </div>
                                         <div class="form-group has-success col-lg-4">
                                              <div class="form-group">
                                                  <label class="control-label" for="linksname">File Link</label>
                                                  <div class="input-group">

                                                <input type="text" class="form-control" id="linksname" name="links" value="" placeholder="Please Put link of File ....">
                                                 <div class="input-group-btn">
                                                    <button class="btn btn-success" type="button"  onclick="education_fields();"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> </button>
                                                  </div>
                                              </div>
                                            </div>
                                            </div>
                                        <div class="form-group has-success col-lg-12 ">
                                            <div class="input-group  col-lg-2">
                                            <button class="btn btn-lg btn-success btn-block " type="submit">Submit</button>
                                            </div>
                                        </div>


                                    </form>


                                    {% endif %}
                                </div>
                            </div>
                        </div>
                </div>

                <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Task Table


                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                            <thead>
                                                <tr>

                                                         <th>Id</th>
                                                        <th>T Id</th>
                                                        <th>E Id</th>
                                                        <th>Entity Name</th>
                                                        <th>Entity Question</th>
                                                        <th>Entity Sequence</th>
                                                        <th>Redirect Task</th>
                                                         <th>Doc Link</th>
                                                        <th>Pre Text</th>
                                                        <th>Pre Action URL</th>
<!--                                                        <th>Interview Url</th>-->
<!---->
<!--                                                        <th>Value Collection Name</th>-->
<!--                                                        <th>Collection Url</th>-->
<!--                                                        <th>Validation Url</th>-->
<!---->
                                                        <th> Alternative Questions</th>
                                                        <!--<td>Entity Session</td>-->
                                                        <!--<td>User</td>-->
                                                        <th>Operation</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            {% if tasktoentity_detail %}
                                            {% for  i in tasktoentity_detail  %}
                                         <tbody>
                                        <tr class="odd gradeX">
                                            <td>{{ i.id}}</td>
                                            <td>{{ i.Task_Id }}</td>
                                            <td>{{ i.Entity_Id }}</td>
                                            <td>{{ i.Entity_Name }}</td>
                                            <td>{{ i.Entity_Question }}</td>
                                            <td>{{ i.Entity_Sequence }}</td>
                                            <td>{{ i.task_redirect }}</td>
                                            <td>{{ i.link }}</td>
                                            <td>{{ i.pre_text }}</td>
                                            <td>{{ i.pre_action_url }}</td>
<!--                                            <td>{{ i.interview_url }}</td>-->
<!--                                            <td>{{ i.value_collection_name }}</td>-->
<!--                                            <td>{{ i.collection_url }}</td>-->
<!--                                            <td>{{ i.validation_url }}</td>-->
                                            <td>
                                                {% for a in  i.Entity_alternet_qustion %}
                                                {{ a }},
                                                {% endfor %}
                                            </td>
                                            <!--<td>{{ i.Session_key }}</td>-->
                                            <!--<td>{{ i.user_chat }}</td>-->
                                            <td><a  class="btn btn-sm btn-danger " data-toggle="modal" data-target="#exampleModal{{ i.pk }}"><i class="fa fa-trash"></i></a>
                                            <a href="{% url 'tasktoentityedit' id=i.pk %}" class="btn btn-sm btn-info "><i class="fa fa-edit"></i></a>

                                            <!--<a href="{% url 'tasktoentityedit' id=i.pk %}" class="btn btn-sm btn-info "><i class="fa fa-edit"></i></a></td>-->

                                            <div class="modal fade" id="exampleModal{{ i.pk }}" tabindex="{{ i.pk }}" role="dialog" aria-labelledby="exampleModalLabel{{ i.pk }}" aria-hidden="true">
                                              <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                  <div class="modal-header">
                                                    <h3 class="modal-title" id="exampleModalLabel{{ i.pk }}">Delete conformation</h3>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                      <span aria-hidden="true">&times;</span>
                                                    </button>
                                                  </div>
                                                  <div class="modal-body">
                                                    Sure.... you want delete this {{ i.id }} data!
                                                  </div>
                                                  <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                                      <a href="{% url 'tasktoentitydelete' id=i.id %}"><button type="button" class="btn btn-danger">Delete</button></a>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                            </td>
                                        </tr>
                                         </tbody>
                                        {% endfor %}
                                            {% endif %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- /.table-responsive -->

                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>

                </div>
</div>
{% endblock %}